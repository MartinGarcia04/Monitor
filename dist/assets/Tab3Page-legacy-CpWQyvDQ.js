System.register(["./index-legacy-CvNS6mQ9.js","./index.esm2017-legacy-AEcz-JJo.js","./_plugin-vue_export-helper-legacy-DgAO6S8O.js"],(function(e,a){"use strict";var t,o,n,l,r,u,s,i,d,c,g,f,p,v,m,b,x,h,_,y,C,k,w,D;return{setters:[e=>{t=e.r,o=e.c,n=e.w,l=e.u,r=e.o,u=e.b,s=e.B,i=e.C,d=e.D,c=e.h,g=e.I,f=e.d,p=e.O,v=e.e,m=e.g,b=e.i,x=e.j,h=e.U,_=e.n,y=e.p},e=>{C=e.g,k=e.p,w=e.r},e=>{D=e._}],execute:function(){var a=document.createElement("style");a.textContent=".label-spacing[data-v-bc2928e4]{margin-bottom:6px}ion-header ion-toolbar[data-v-bc2928e4]{--background: #ffffff;--color: #000000;box-shadow:0 2px 6px rgba(0,0,0,.06)}ion-title[data-v-bc2928e4]{font-weight:600}ion-content[data-v-bc2928e4]{--background: #f5f7fa}.form-container[data-v-bc2928e4]{background:#fff;margin:16px;padding:20px;border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,.05)}.custom-item[data-v-bc2928e4]{--background: transparent;margin-bottom:12px}.custom-input[data-v-bc2928e4]{border:2px solid #000;border-radius:8px;padding:8px 10px;font-size:14px;color:#fff}.custom-button[data-v-bc2928e4]{margin-top:16px;--background: #2c7be5;--color: #fff;border-radius:12px;font-weight:500}\n",document.head.appendChild(a);const j={class:"form-container"};e("default",D({__name:"Tab3Page",setup(e){const a=t(1),D=t(""),S=t(""),U=t(""),A=t(!1),E=["Continuar"],I=async()=>{const e=y().currentUser;if(!e)return D.value="Error de autenticación",S.value="Usuario no autenticado",U.value="Debes iniciar sesión para agregar claves.",void(A.value=!0);const t=e.email||e.uid||"usuario_desconocido",o=new Intl.DateTimeFormat("es-MX",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date),n=C(),l=[];let r=0,u=0;for(let s=0;s<a.value;s++)l.push(k(w(n,"claves/"),{status:"Disponible",usuario:t,fechaCreacion:o}));(await Promise.allSettled(l)).forEach((e=>{"fulfilled"===e.status?r++:u++})),u>0?(D.value="Resultado parcial",S.value="Algunas claves no se agregaron",U.value=`Se agregaron ${r} claves con éxito, ${u} fallaron.`):(D.value="Claves agregadas",S.value="Todas las claves agregadas con éxito",U.value=`Se agregaron ${r} claves correctamente.`),A.value=!0};return(e,t)=>(r(),o(l(_),null,{default:n((()=>[u(l(s),null,{default:n((()=>[u(l(i),null,{default:n((()=>[u(l(d),null,{default:n((()=>t[2]||(t[2]=[c("Agregar Claves")]))),_:1})])),_:1})])),_:1}),u(l(g),null,{default:n((()=>[f("div",j,[u(l(p),{lines:"none"},{default:n((()=>[u(l(v),{class:"custom-item"},{default:n((()=>[u(l(m),{position:"stacked",class:"label-spacing"},{default:n((()=>t[3]||(t[3]=[c(" Número de claves a agregar ")]))),_:1}),u(l(b),{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),modelModifiers:{number:!0},type:"number",min:"1",class:"custom-input"},null,8,["modelValue"])])),_:1})])),_:1}),u(l(x),{expand:"block",class:"custom-button",onClick:I},{default:n((()=>t[4]||(t[4]=[c(" Agregar Claves ")]))),_:1})]),u(l(h),{"is-open":A.value,header:D.value,"sub-header":S.value,message:U.value,buttons:E,onDidDismiss:t[1]||(t[1]=e=>A.value=!1)},null,8,["is-open","header","sub-header","message"])])),_:1})])),_:1}))}},[["__scopeId","data-v-bc2928e4"]]))}}}));
